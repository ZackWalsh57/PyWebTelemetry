# PyWebTelemetry - The AIO PC Remote Monitor

**PLEASE NOTE THAT AS OF VERSION 0.1 THE WEB INTERFACE IS NOT YET COMPLETE. IT WILL BE DONE SHORTLY**

**ALSO NOTE THIS IS WRITTEN IN PYTHON 2.7. I AM AWARE THAT IT IS BEING PHASED OUT AND WILL BE CONVERTING TO PYTHON 3.X IN THE NEAR FUTURE.**

---

<!-- TOC -->

- [PyWebTelemetry - The AIO PC Remote Monitor](#pywebtelemetry---the-aio-pc-remote-monitor)
    - [What Exactly is PyWebTelemetry?](#what-exactly-is-pywebtelemetry)
    - [Repository Map](#repository-map)
        - [Final Py Scripts](#final-py-scripts)
        - [Test Programs](#test-programs)
        - [One Click EXE Files](#one-click-exe-files)
    - [Program Operation](#program-operation)
        - [1. Welcome Screen](#1-welcome-screen)
        - [2. File Locating](#2-file-locating)
        - [3. Figuring out monitors and reading temps/values](#3-figuring-out-monitors-and-reading-tempsvalues)
        - [4. Sending Data to remote location](#4-sending-data-to-remote-location)
    - [Common Issues and Solutions](#common-issues-and-solutions)

<!-- /TOC -->

---

## What Exactly is PyWebTelemetry?
  - PyWebTelemetry is a Web Based, Python Powered, PC Monitor using MSI Afterburner (AFB) and RivaTuner Stats Server (RTSS) to read live PC temps and usages which are shown on a remote webpage.
  - This program was designed with the intention to allow wireless PC monitoring as simply as possible.  This program is in it's earliest stages, so if (and when) you find a bug, please report it! 
  - I am aware there are other potentially more direct ways to accomplish what this code does, but since this program uses AFB or RTSS, there is a potential for cross platform compatability with some very small changes later on.  For now this program will be Windows only. (Tested on Win10 and Win8.1)

---

## Repository Map
Each folder is pretty self explanatory but to avoid confusion, I'll explain what each one is for here.

### Final Py Scripts
- Folder containing all Python Scripts that are finalized and released to the public.  Since the program itself will be wrapped inside an EXE, all the source code that goes into the EXE file can be found in there.

### Test Programs
- This is basically a working directory.  Any code that needed to be written and tested before being added into a final script can be found here. A lot of that code is heavily commented and really *REALLY* messy.  

### One Click EXE Files
- Empty for now.  When version 1.0 is releases.



---

## Program Operation
The following will explain how this program takes a .hml file generated by AFB or RTSS and converts that into easy to view data. 

### 1. Welcome Screen
- Inform user of the requirements for this program 
- AFB and/or RTSS must be running at all times for logging
- Show the default log location and check to see if the program is running as an admin.
- Ask if user wants debug logging (ON BY DEFAULT!!!! AND WILL DELETE ON RESTART OF PROGRAM)

### 2. File Locating
   - Get path of .hml file from the user and check if the file exists or not using the OS modul
   - If it's real check what's inside it for the user
   - If not, then keep asking for new location
       - TODO: See if there's a way to look for AFB as a process and warn if it's not on.

### 3. Figuring out monitors and reading temps/values
- Read the file as a CSV since it's kinda like one
- Ignore colls 1 and 2 for the log since they are useless.
- Read coll titles and save them.  (REMOVE WHITESPACES!!!!)
- Save the coll titles, delete the .hml to csv we made to read monitors
    - NOTE: The converted file is deleted so we can avoid chewing up disk space. Doing this uses more disk resources, but it wont risk storing a massive amount of data
- Delete the log file from AFB or RTSS.
    - NOTE: The log file from AFB is auto created when deleted. That's the only reason we can save disk space.
- Wait one second (literally) and read the log again from the last line it has and save it
- Zip the two lists (monitors and their values) into a tuple and save that info. 
- Delete the log from AFB or RTSS. Rinse and repeat.

### 4. Sending Data to remote location
- The saved zipped list is then sent over the web to some kind of webserver
    - TODO: Django web server??? Not sure how to do that.
- The list is indexed and graphs are made using the data supplied.
    - NOTE: The program seems like it's going to have a pretty big delay (1-2 seconds) which isn't a huge deal but it may be kinda annoying.  
    - TODO: Precision of measurements, units of measure, avgs, idles, mins, maxes etc
- Graphs will have the current value for each monitor along with a history of the past 60 seconds of recording. 
    - TODO: This may be changed later on to allow the user to decide how far in the past the graphs will show.

---

## Common Issues and Solutions
**Q1: When I run the program, I get an error saying that my log file does not exist but I konw it does. Why?**
   - The program looks for a log file in the default directory of MSI AFB which is in Program Files (x86).  When it first runs, for some reason the program doesn't like to properly locate the log file and throws an error.  In the event it does, just try to enter your path location again and it should be fine.

**Q2: Why does monitoring stop randomly and claim that my log file no longer exists?**
   - This is an issue I'm really having a hard time with.  Sometimes, AFB hangs up, and won't restart the logging process, thus no log file is made. I considered adding in an error exception for this case, but I didn't want to risk sending incorrect or invalid data to the webpage.
   - UPDATE: I added the error exception to the code just for now.  I'd like to figure out a real solution to this issue.  Maybe some sort of timer that can check for the file over and over again. Not too sure yet, but the code works fine. 

**Q3: I really wish this program did feature 'X' and didn't do feature 'Y'. How can I help change that?**
   - Well this is GitHub and like all of my public repos, the code is protected by the MIT License.  So feel free to fork away, pull, clone, whatever makes you happy.  If there is a feature you would like added or removed but are not 100% sure how it would be done, ask! I'm not a very busy person so I'd gladly make some changes if people would like. 